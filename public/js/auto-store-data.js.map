{"version":3,"file":"auto-store-data.js","names":["forms","document","querySelectorAll","form","addEventListener","checkboxes","names","forEach","checkbox","name","input","createElement","setAttribute","appendChild"],"sources":["auto-store-data.js"],"sourcesContent":["// On form submit, add hidden inputs for checkboxes so the server knows if\n// they've been unchecked. This means we can automatically store and update\n// all form data on the server, including checkboxes that are checked, then\n// later unchecked\nconst forms = document.querySelectorAll(\"form\")\n\nfor (let form of forms) {\n  form.addEventListener(\"submit\", () => {\n    const checkboxes = form.querySelectorAll(\"input[type='checkbox']\")\n    const names = {}\n\n    checkboxes.forEach(checkbox => {\n      if (!names[checkbox.name]) {\n        names[checkbox.name] = true\n\n        const input = document.createElement(\"input\")\n        input.setAttribute(\"type\", \"hidden\")\n        input.setAttribute(\"name\", checkbox.name)\n        input.setAttribute(\"value\", \"_unchecked\")\n        form.appendChild(input)\n      }\n    })\n  })\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,MAAMA,KAAK,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,MAAM,CAAC;AAE/C,KAAK,IAAIC,IAAI,IAAIH,KAAK,EAAE;EACtBG,IAAI,CAACC,gBAAgB,CAAC,QAAQ,EAAE,MAAM;IACpC,MAAMC,UAAU,GAAGF,IAAI,CAACD,gBAAgB,CAAC,wBAAwB,CAAC;IAClE,MAAMI,KAAK,GAAG,CAAC,CAAC;IAEhBD,UAAU,CAACE,OAAO,CAACC,QAAQ,IAAI;MAC7B,IAAI,CAACF,KAAK,CAACE,QAAQ,CAACC,IAAI,CAAC,EAAE;QACzBH,KAAK,CAACE,QAAQ,CAACC,IAAI,CAAC,GAAG,IAAI;QAE3B,MAAMC,KAAK,GAAGT,QAAQ,CAACU,aAAa,CAAC,OAAO,CAAC;QAC7CD,KAAK,CAACE,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC;QACpCF,KAAK,CAACE,YAAY,CAAC,MAAM,EAAEJ,QAAQ,CAACC,IAAI,CAAC;QACzCC,KAAK,CAACE,YAAY,CAAC,OAAO,EAAE,YAAY,CAAC;QACzCT,IAAI,CAACU,WAAW,CAACH,KAAK,CAAC;MACzB;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ","ignoreList":[]}